<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Devocional Di√°rio ‚Ä¢ Um Dedo de F√©</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --marrom-escuro: #4b2a1a;
      --marrom-claro: #7b4c27;
      --dourado: #e1a640;
      --bege-fundo: #efe2c3;
    }

    body {
      font-family: 'Montserrat', sans-serif;
      background-color: var(--bege-fundo);
      color: var(--marrom-escuro);
      margin: 0;
      padding: 0;
      line-height: 1.8;
    }

    header {
      background-color: var(--bege-fundo);
      text-align: center;
      padding: 20px 0 10px;
      border-bottom: 2px solid var(--dourado);
    }

    .banner-container {
      text-align: center;
      margin: 0 auto;
    }

    #banner-promocional {
      width: 100%;
      max-width: 700px;
      height: auto;
      border-radius: 12px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.12);
      transition: transform 0.2s ease;
    }

    #banner-promocional:hover {
      transform: scale(1.02);
    }

    main {
      max-width: 800px;
      margin: 20px auto 0 auto;
      background: #fff8ef;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 0 12px rgba(0,0,0,0.05);
    }

    h1 {
      color: var(--marrom-escuro);
      font-size: 1.9em;
      margin-bottom: 10px;
      text-align: center;
    }

    .verse {
      font-weight: 600;
      color: var(--marrom-claro);
      text-align: center;
      margin-bottom: 20px;
    }

    .content p {
      margin-bottom: 20px;
      font-size: 1.05em;
    }

    .content p strong {
      color: var(--dourado);
    }

    .content p em {
      color: var(--marrom-claro);
      font-style: italic;
    }

    .reflection {
      border-left: 4px solid var(--dourado);
      padding-left: 16px;
      margin: 30px 0;
      background: #fff3e0;
    }

    .prayer {
      background: #fef5e4;
      padding: 16px;
      border-radius: 10px;
      margin-top: 25px;
      border: 1px solid #f1c27d;
    }

    footer {
      text-align: center;
      font-size: 0.9em;
      padding: 30px 0;
      color: var(--marrom-claro);
    }

    footer a {
      color: var(--dourado);
      text-decoration: none;
      font-weight: 600;
    }

    footer a:hover {
      text-decoration: underline;
    }

    @media (max-width: 768px) {
      #banner-promocional {
        max-width: 95%;
        border-radius: 10px;
      }

      main {
        margin: 10px 5px 0 5px;
        padding: 15px;
      }

      h1.titulo-devocional {
        font-size: 1.6em;
        line-height: 1.2;
      }
    }
  </style>
</head>
<body>
  <header>
    <div class="banner-container">
      <a href="https://wa.me/5527999080664?text=Quero%20aproveitar%20a%20promo%C3%A7%C3%A3o" target="_blank" rel="noopener noreferrer">
        <img id="banner-promocional" src="imagens/banner-promocional.jpg" alt="Banner promocional da caneca devocional">
      </a>
    </div>
  </header>

  <main id="devocional">
    <p style="text-align:center;">Carregando devocional...</p>
  </main>

  <footer>
    <p>¬© 2025 <strong>Um Dedo de F√©</strong> ‚Äî por 
      <a href="https://www.instagram.com/prwevertonquintino/" target="_blank">@prwevertonquintino</a>
    </p>
  </footer>

  <script>
    const totalDevocionais = 365;

    // === Carrega o progresso salvo ===
    let progresso = JSON.parse(localStorage.getItem("progressoDevocional"));
    if (!progresso) {
      progresso = { diaAtual: 1 };
      localStorage.setItem("progressoDevocional", JSON.stringify(progresso));
    }

    let numeroDevocional = progresso.diaAtual;

    if (numeroDevocional > totalDevocionais) {
      window.location.href = "final.html";
    } else {
      const caminho = `devocionais/devocional-${numeroDevocional}.html`;
      fetch(caminho)
        .then(r => {
          if (!r.ok) throw new Error("Devocional n√£o encontrado");
          return r.text();
        })
        .then(html => {
          document.getElementById("devocional").innerHTML = html;

          // === Preenche a data de leitura (opcional) ===
          const dataHoje = new Date();
          const dia = String(dataHoje.getDate()).padStart(2, '0');
          const mes = String(dataHoje.getMonth() + 1).padStart(2, '0');
          const ano = dataHoje.getFullYear();
          const dataFormatada = `${dia}/${mes}/${ano}`;
          const pDate = document.querySelector("#devocional p.date");
          if (pDate) pDate.textContent = dataFormatada;

          // === Bot√£o Pr√≥ximo Devocional ===
          const botaoProximo = document.createElement("button");
          botaoProximo.textContent = "Pr√≥ximo Devocional";
          botaoProximo.style.display = "block";
          botaoProximo.style.margin = "30px auto 10px";
          botaoProximo.style.padding = "10px 20px";
          botaoProximo.style.fontSize = "1em";
          botaoProximo.style.backgroundColor = "#e1a640";
          botaoProximo.style.color = "#fff";
          botaoProximo.style.border = "none";
          botaoProximo.style.borderRadius = "8px";
          botaoProximo.style.cursor = "pointer";
          botaoProximo.style.fontWeight = "600";
          botaoProximo.onclick = proximoDevocional;
          document.getElementById("devocional").appendChild(botaoProximo);

          // === Bot√£o Ouvir Devocional ===
          const btnOuvir = document.createElement("button");
          btnOuvir.textContent = "üîä Ouvir Devocional";
          btnOuvir.style.display = "block";
          btnOuvir.style.margin = "15px auto";
          btnOuvir.style.padding = "10px 20px";
          btnOuvir.style.fontSize = "1em";
          btnOuvir.style.backgroundColor = "#e1a640";
          btnOuvir.style.color = "#fff";
          btnOuvir.style.border = "none";
          btnOuvir.style.borderRadius = "8px";
          btnOuvir.style.cursor = "pointer";
          btnOuvir.style.fontWeight = "600";
          document.getElementById("devocional").appendChild(btnOuvir);

          let narrando = false;
          let utterance;

          btnOuvir.addEventListener("click", () => {
            if (!narrando) {
              const titulo = document.querySelector("#devocional h1.titulo-devocional")?.innerText || "";
              const versiculo = document.querySelector("#devocional p.verse")?.innerText || "";
              const conteudo = Array.from(document.querySelectorAll("#devocional .content > p")).map(p => p.innerText).join(". ");
              const aplicacoes = document.querySelector("#devocional .practical p")?.innerText || "";
              const oracao = document.querySelector("#devocional .prayer p")?.innerText || "";
              const fraseFinal = Array.from(document.querySelectorAll("#devocional .content > p")).pop()?.innerText || "";

              const textoCompleto = `${titulo}. ${versiculo}. ${conteudo}. ${aplicacoes}. ${oracao}. ${fraseFinal}`;

              utterance = new SpeechSynthesisUtterance(textoCompleto);
              utterance.lang = "pt-BR";
              utterance.rate = 1;
              utterance.pitch = 1;
              speechSynthesis.speak(utterance);

              narrando = true;
              btnOuvir.textContent = "‚è∏Ô∏è Pausar Leitura";

              utterance.onend = () => {
                narrando = false;
                btnOuvir.textContent = "üîä Ouvir Devocional";
              };
            } else {
              speechSynthesis.cancel();
              narrando = false;
              btnOuvir.textContent = "üîä Ouvir Devocional";
            }
          });
        })
        .catch(err => {
          document.getElementById("devocional").innerHTML =
            "<p style='text-align:center;'>Ops! O devocional deste dia ainda n√£o est√° dispon√≠vel.</p>";
          console.error(err);
        });
    }

    function proximoDevocional() {
      let progresso = JSON.parse(localStorage.getItem("progressoDevocional"));
      progresso.diaAtual = (progresso.diaAtual || 1) + 1;

      if (progresso.diaAtual > totalDevocionais) {
        localStorage.removeItem("progressoDevocional");
        window.location.href = "final.html";
      } else {
        localStorage.setItem("progres
